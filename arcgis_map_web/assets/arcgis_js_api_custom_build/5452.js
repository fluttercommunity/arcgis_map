(self.webpackChunkarcgis_webpack01=self.webpackChunkarcgis_webpack01||[]).push([[5452],{1721:(e,t,i)=>{"use strict";i.d(t,{GZ:()=>l,wF:()=>o});var r=i(59472),s=i(28293),n=i(809),a=i(59351);async function l(e,t){return await e.load(),o(e,t)}async function o(e,t){const i=[],l=(...e)=>{for(const t of e)(0,r.Wi)(t)||(Array.isArray(t)?l(...t):s.Z.isCollection(t)?t.forEach((e=>l(e))):n.Z.isLoadable(t)&&i.push(t))};t(l);let o=null;if(await(0,a.UI)(i,(async e=>{!1!==(await(0,a.q6)(function(e){return"loadAll"in e&&"function"==typeof e.loadAll}(e)?e.loadAll():e.load())).ok||o||(o=e)})),o)throw o.loadError;return e}},55452:(e,t,i)=>{"use strict";i.r(t),i.d(t,{default:()=>E});var r=i(56140),s=(i(95830),i(59472)),n=i(36544),a=(i(68055),i(65575)),l=i(79881),o=i(87566),d=i(60538),y=(i(10923),i(57002),i(86035),i(1721)),h=i(87837),p=i(56700),u=i(7830),c=i(28293),b=i(32105);function f(e){return e&&"group"===e.type}function v(e,t,i){let r,s;if(e)for(let n=0,a=e.length;n<a;n++){if(r=e.getItemAt(n),r[t]===i)return r;if(f(r)&&(s=v(r.layers,t,i),s))return s}}const m=n.Z.getLogger("esri.support.LayersMixin"),g=e=>{let t=class extends e{constructor(...e){super(...e),this.layers=new c.Z;const t=e=>{e.parent=this,this.layerAdded(e),"elevation"!==e.type&&"base-elevation"!==e.type||m.error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},i=e=>{e.parent=null,this.layerRemoved(e)};this.layers.on("before-add",(e=>(e=>{e.parent&&"remove"in e.parent&&e.parent.remove(e)})(e.item))),this.layers.on("after-add",(e=>t(e.item))),this.layers.on("after-remove",(e=>i(e.item)))}destroy(){const e=this.layers.removeAll();for(const t of e)this.layerRemoved(t),t.destroy();this.layers.destroy()}set layers(e){this._set("layers",(0,b.Z)(e,this._get("layers")))}add(e,t){const i=this.layers;t=i.getNextIndex(t),e instanceof p.Z?e.parent===this?this.reorder(e,t):i.add(e,t):(0,u.y8)(e)?e.then((e=>{this.destroyed||this.add(e,t)})):m.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")}addMany(e,t){const i=this.layers;t=i.getNextIndex(t),e.slice().forEach((e=>{e.parent!==this?(i.add(e,t),t+=1):this.reorder(e,t)}))}findLayerById(e){return v(this.layers,"id",e)}findLayerByUid(e){return v(this.layers,"uid",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,t){return this.layers.reorder(e,t)}layerAdded(e){}layerRemoved(e){}};return(0,r._)([(0,l.Cb)()],t.prototype,"layers",null),t=(0,r._)([(0,o.j)("esri.support.LayersMixin")],t),t},_="esri.support.TablesMixin",w=n.Z.getLogger(_);function L(e){return e&&"group"===e.type}function M(e,t,i){if(e)for(let r=0,s=e.length;r<s;r++){const s=e.getItemAt(r);if(s[t]===i)return s;if(L(s)){const e=M(s.tables,t,i);if(e)return e}}}const C=e=>{let t=class extends e{constructor(...e){super(...e),this.tables=new c.Z,this.tables.on("after-add",(e=>{const t=e.item;t.parent&&t.parent!==this&&"tables"in t.parent&&t.parent.tables.remove(t),t.parent=this,"feature"!==t.type&&w.error(`Layer 'title:${t.title}, id:${t.id}' of type '${t.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on("after-remove",(e=>{e.item.parent=null}))}destroy(){const e=this.tables.removeAll();for(const t of e)t.destroy();this.tables.destroy()}set tables(e){this._set("tables",(0,b.Z)(e,this._get("tables")))}findTableById(e){return M(this.tables,"id",e)}findTableByUid(e){return M(this.tables,"uid",e)}};return(0,r._)([(0,l.Cb)()],t.prototype,"tables",null),t=(0,r._)([(0,o.j)(_)],t),t};var x=i(43072),A=i(78910),k=i(57407),I=i(33716),S=i(10113);let Z=class extends((0,k.h)((0,S.M)((0,A.q)((0,I.I)(C(g((0,x.R)(p.Z)))))))){constructor(e){super(e),this._visibilityHandles={},this.fullExtent=void 0,this.operationalLayerType="GroupLayer",this.spatialReference=void 0,this.type="group",this._visibilityWatcher=this._visibilityWatcher.bind(this)}initialize(){this._enforceVisibility(this.visibilityMode,this.visible),this.watch("visible",this._visibleWatcher.bind(this),!0)}_writeLayers(e,t,i,r){const n=[];if(!e)return n;e.forEach((e=>{const t=(0,h.Nw)(e,r.webmap?r.webmap.getLayerJSONFromResourceInfo(e):null,r);(0,s.pC)(t)&&t.layerType&&n.push(t)})),t.layers=n}set portalItem(e){this._set("portalItem",e)}set visibilityMode(e){const t=this._get("visibilityMode")!==e;this._set("visibilityMode",e),t&&this._enforceVisibility(e,this.visible)}load(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]},e)),Promise.resolve(this)}loadAll(){return(0,y.GZ)(this,(e=>{e(this.layers)}))}layerAdded(e){e.visible&&"exclusive"===this.visibilityMode?this._turnOffOtherLayers(e):"inherited"===this.visibilityMode&&(e.visible=this.visible),this._visibilityHandles[e.uid]=e.watch("visible",this._visibilityWatcher,!0)}layerRemoved(e){const t=this._visibilityHandles[e.uid];t&&(t.remove(),delete this._visibilityHandles[e.uid]),this._enforceVisibility(this.visibilityMode,this.visible)}_turnOffOtherLayers(e){this.layers.forEach((t=>{t!==e&&(t.visible=!1)}))}_enforceVisibility(e,t){if(!(0,a.vw)(this).initialized)return;const i=this.layers;let r=i.find((e=>e.visible));switch(e){case"exclusive":i.length&&!r&&(r=i.getItemAt(0),r.visible=!0),this._turnOffOtherLayers(r);break;case"inherited":i.forEach((e=>{e.visible=t}))}}_visibleWatcher(e){"inherited"===this.visibilityMode&&this.layers.forEach((t=>{t.visible=e}))}_visibilityWatcher(e,t,i,r){const s=r;switch(this.visibilityMode){case"exclusive":e?this._turnOffOtherLayers(s):this._isAnyLayerVisible()||(s.visible=!0);break;case"inherited":s.visible=this.visible}}_isAnyLayerVisible(){return this.layers.some((e=>e.visible))}};(0,r._)([(0,l.Cb)()],Z.prototype,"fullExtent",void 0),(0,r._)([(0,l.Cb)({json:{read:!1,write:{ignoreOrigin:!0}}})],Z.prototype,"layers",void 0),(0,r._)([(0,d.c)("layers")],Z.prototype,"_writeLayers",null),(0,r._)([(0,l.Cb)({type:["GroupLayer"]})],Z.prototype,"operationalLayerType",void 0),(0,r._)([(0,l.Cb)({json:{origins:{"web-document":{read:!1,write:!1}}}})],Z.prototype,"portalItem",null),(0,r._)([(0,l.Cb)()],Z.prototype,"spatialReference",void 0),(0,r._)([(0,l.Cb)({json:{read:!1},readOnly:!0,value:"group"})],Z.prototype,"type",void 0),(0,r._)([(0,l.Cb)({type:["independent","inherited","exclusive"],value:"independent",json:{write:!0,origins:{"web-map":{read:!1,write:!1}}}})],Z.prototype,"visibilityMode",null),Z=(0,r._)([(0,o.j)("esri.layers.GroupLayer")],Z);const E=Z},87837:(e,t,i)=>{"use strict";i.d(t,{Nw:()=>u});var r=i(82550),s=i(10103),n=i(59472),a=i(25881),l=i(32656);const o=new Set(["bing-maps","imagery","imagery-tile","map-image","open-street-map","tile","unknown","unsupported","vector-tile","web-tile"]),d=new Set(["csv","feature","geo-rss","group","imagery","imagery-tile","kml","map-image","map-notes","tile","unknown","unsupported","vector-tile","web-tile"]);function y(e){return!("feature"!==e.type||e.url||!e.source||"memory"!==e.source.type)}function h(e,t){if(t.restrictedWebMapWriting){const i=function(e){return"basemap"===e.layerContainerType?o:"operational-layers"===e.layerContainerType?d:null}(t);return!(0,n.pC)(i)||i.has(e.type)&&!y(e)}return!0}function p(e,t){"maxScale"in e&&(t.maxScale=(0,a.k)(e.maxScale)),"minScale"in e&&(t.minScale=(0,a.k)(e.minScale))}function u(e,t,i){if(!("write"in e)||!e.write)return i&&i.messages&&i.messages.push(new l.Z("layer:unsupported",`Layers (${e.title}, ${e.id}) of type '${e.declaredClass}' cannot be persisted`,{layer:e})),null;if(h(e,i)){const t={};return e.write(t,i)?t:null}return(0,n.pC)(t)&&function(e,t){if(function(e,t){if(y(e)){const i=(0,s.hS)("featureCollection.layers",t),r=i&&i[0]&&i[0].layerDefinition;r&&p(e,r)}else"stream"===e.type?p(e,t.layerDefinition=t.layerDefinition||{}):"group"!==e.type&&p(e,t)}(e,t),"blendMode"in e&&(t.blendMode=e.blendMode,"normal"===t.blendMode&&delete t.blendMode),t.opacity=(0,a.k)(e.opacity),t.title=e.title||"Layer",t.visibility=e.visible,"legendEnabled"in e&&"wmts"!==e.type)if(y(e)){const i=t.featureCollection;i&&(i.showLegend=e.legendEnabled)}else t.showLegend=e.legendEnabled}(e,t=(0,r.d9)(t)),t}}}]);