"use strict";(self.webpackChunkarcgis_webpack01=self.webpackChunkarcgis_webpack01||[]).push([[1015],{71200:(e,t,s)=>{s.d(t,{k3:()=>n,s5:()=>a});Math.PI;const r=1/Math.LN2;function i(e,t){return(e%=t)>=0?e:e+t}function a(e){return i(.7111111111111111*e,256)}function n(e){return Math.log(e)*r}},31090:(e,t,s)=>{var r,i;function a(e){switch(e){case"left":return r.Left;case"right":return r.Right;case"center":return r.Center}}function n(e){switch(e){case"top":return i.Top;case"middle":return i.Center;case"baseline":return i.Baseline;case"bottom":return i.Bottom}}function o(e){switch(e){case"above-left":case"esriServerPointLabelPlacementAboveLeft":return[r.Right,i.Bottom];case"above-center":case"above-along":case"esriServerPointLabelPlacementAboveCenter":case"esriServerLinePlacementAboveAlong":return[r.Center,i.Bottom];case"above-right":case"esriServerPointLabelPlacementAboveRight":return[r.Left,i.Bottom];case"center-left":case"esriServerPointLabelPlacementCenterLeft":return[r.Right,i.Center];case"center-center":case"center-along":case"esriServerPointLabelPlacementCenterCenter":case"esriServerLinePlacementCenterAlong":case"always-horizontal":case"esriServerPolygonPlacementAlwaysHorizontal":return[r.Center,i.Center];case"center-right":case"esriServerPointLabelPlacementCenterRight":return[r.Left,i.Center];case"below-left":case"esriServerPointLabelPlacementBelowLeft":return[r.Right,i.Top];case"below-center":case"below-along":case"esriServerPointLabelPlacementBelowCenter":case"esriServerLinePlacementBelowAlong":return[r.Center,i.Top];case"below-right":case"esriServerPointLabelPlacementBelowRight":return[r.Left,i.Top];default:return console.debug(`Found invalid placement type ${e}`),[r.Center,i.Center]}}function l(e){switch(e){case r.Right:return-1;case r.Center:return 0;case r.Left:return 1;default:return console.debug(`Found invalid horizontal alignment ${e}`),0}}function c(e){switch(e){case i.Top:return 1;case i.Center:return 0;case i.Bottom:case i.Baseline:return-1;default:return console.debug(`Found invalid vertical alignment ${e}`),0}}function u(e){switch(e){case"left":return r.Left;case"right":return r.Right;case"center":return r.Center}}function h(e){switch(e){case"above-along":case"below-along":case"center-along":case"esriServerLinePlacementAboveAlong":case"esriServerLinePlacementBelowAlong":case"esriServerLinePlacementCenterAlong":return!0;default:return!1}}s.d(t,{Hd:()=>u,M7:()=>r,NS:()=>h,TR:()=>i,b7:()=>n,g:()=>l,kH:()=>a,qv:()=>o,tf:()=>c}),function(e){e[e.Left=-1]="Left",e[e.Center=0]="Center",e[e.Right=1]="Right"}(r||(r={})),function(e){e[e.Top=1]="Top",e[e.Center=0]="Center",e[e.Bottom=-1]="Bottom",e[e.Baseline=2]="Baseline"}(i||(i={}))},89106:(e,t,s)=>{s.d(t,{CA:()=>c,Gq:()=>_,Xp:()=>l,a:()=>S,dk:()=>f,hF:()=>h,jj:()=>u,jy:()=>o,m2:()=>d,mE:()=>g,qr:()=>b});var r=s(70375),i=s(31090),a=s(38716);const n=Object.keys(a.mD).filter((e=>"number"==typeof a.mD[e])).reduce(((e,t)=>({...e,[t]:a.mD[t]})),{});function o(e){return e===a.mD.OUTLINE_FILL||e===a.mD.OUTLINE_FILL_SIMPLE}function l(e){return function(e){return e===a.mD.SIMPLE||e===a.mD.OUTLINE_FILL_SIMPLE}(e.symbologyType)}function c(e){return o(e.symbologyType)}function u(e,t){switch(e){case a.LW.FILL:return f.from(t);case a.LW.LINE:return S.from(t);case a.LW.MARKER:return g.from(t);case a.LW.TEXT:return b.from(t);case a.LW.LABEL:return _.from(t);default:throw new Error(`Unable to createMaterialKey for unknown geometryType ${e}`)}}function h(e){switch(d.load(e).geometryType){case a.LW.MARKER:return new g(e);case a.LW.FILL:return new f(e);case a.LW.LINE:return new S(e);case a.LW.TEXT:return new b(e);case a.LW.LABEL:return new _(e)}}class d{static load(e){const t=this.shared;return t.data=e,t}constructor(e){this._data=0,this._data=e}set data(e){this._data=e??0}get data(){return this._data}get geometryType(){return this.bits(8,11)}set geometryType(e){this.setBits(e,8,11)}get mapAligned(){return!!this.bit(20)}set mapAligned(e){this.setBit(20,e)}get sdf(){return!!this.bit(11)}set sdf(e){this.setBit(11,e??!1)}get pattern(){return!!this.bit(12)}set pattern(e){this.setBit(12,e)}get textureBinding(){return this.bits(0,8)}set textureBinding(e){this.setBits(e,0,8)}get symbologyType(){return this.bits(21,26)}set symbologyType(e){this.setBits(e,21,26)}get geometryTypeString(){switch(this.geometryType){case a.LW.FILL:return"fill";case a.LW.MARKER:return"marker";case a.LW.LINE:return"line";case a.LW.TEXT:return"text";case a.LW.LABEL:return"label";default:throw new r.Z(`Unable to handle unknown geometryType: ${this.geometryType}`)}}setBit(e,t){const s=1<<e;t?this._data|=s:this._data&=~s}bit(e){return(this._data&1<<e)>>e}setBits(e,t,s){for(let r=t,i=0;r<s;r++,i++)this.setBit(r,0!=(e&1<<i))}bits(e,t){let s=0;for(let r=e,i=0;r<t;r++,i++)s|=this.bit(r)<<i;return s}hasVV(){return!1}setVV(e,t){}getVariation(){return{mapAligned:this.mapAligned,pattern:this.pattern,sdf:this.sdf,symbologyType:{value:a.mD[this.symbologyType],options:n,namespace:"SYMBOLOGY_TYPE"}}}getVariationHash(){return this._data&~(7&this.textureBinding)}}d.shared=new d(0);const v=e=>class extends e{get vvSizeMinMaxValue(){return 0!==this.bit(16)}set vvSizeMinMaxValue(e){this.setBit(16,e)}get vvSizeScaleStops(){return 0!==this.bit(17)}set vvSizeScaleStops(e){this.setBit(17,e)}get vvSizeFieldStops(){return 0!==this.bit(18)}set vvSizeFieldStops(e){this.setBit(18,e)}get vvSizeUnitValue(){return 0!==this.bit(19)}set vvSizeUnitValue(e){this.setBit(19,e)}hasVV(){return super.hasVV()||this.vvSizeMinMaxValue||this.vvSizeScaleStops||this.vvSizeFieldStops||this.vvSizeUnitValue}setVV(e,t){super.setVV(e,t);const s=function(e,t,s){const r=a.X.SIZE_FIELD_STOPS|a.X.SIZE_MINMAX_VALUE|a.X.SIZE_SCALE_STOPS|a.X.SIZE_UNIT_VALUE,i=(t&(a.mf.FIELD_TARGETS_OUTLINE|a.mf.MINMAX_TARGETS_OUTLINE|a.mf.SCALE_TARGETS_OUTLINE|a.mf.UNIT_TARGETS_OUTLINE))>>>4;return e===a.LW.LINE&&s.isOutline||e===a.LW.FILL&&o(s.symbologyType)?r&i:r&~i}(this.geometryType,e,t)&e;this.vvSizeMinMaxValue=!!(s&a.X.SIZE_MINMAX_VALUE),this.vvSizeFieldStops=!!(s&a.X.SIZE_FIELD_STOPS),this.vvSizeUnitValue=!!(s&a.X.SIZE_UNIT_VALUE),this.vvSizeScaleStops=!!(s&a.X.SIZE_SCALE_STOPS)}},y=e=>class extends e{get vvRotation(){return 0!==this.bit(15)}set vvRotation(e){this.setBit(15,e)}hasVV(){return super.hasVV()||this.vvRotation}setVV(e,t){super.setVV(e,t),this.vvRotation=!t.isOutline&&!!(e&a.X.ROTATION)}},m=e=>class extends e{get vvColor(){return 0!==this.bit(13)}set vvColor(e){this.setBit(13,e)}hasVV(){return super.hasVV()||this.vvColor}setVV(e,t){super.setVV(e,t),this.vvColor=!t.isOutline&&!!(e&a.X.COLOR)}},p=e=>class extends e{get vvOpacity(){return 0!==this.bit(14)}set vvOpacity(e){this.setBit(14,e)}hasVV(){return super.hasVV()||this.vvOpacity}setVV(e,t){super.setVV(e,t),this.vvOpacity=!t.isOutline&&!!(e&a.X.OPACITY)}};class f extends(m(p(v(d)))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const{symbologyType:t,vvFlags:s}=e,r=this.load(0);return r.geometryType=a.LW.FILL,r.symbologyType=t,t!==a.mD.DOT_DENSITY&&r.setVV(s,e),r.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}f.shared=new f(0);class g extends(m(p(y(v(d))))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const{symbologyType:t,vvFlags:s}=e,r=this.load(0);return r.geometryType=a.LW.MARKER,r.symbologyType=t,t!==a.mD.HEATMAP&&r.setVV(s,e),r.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvRotation:this.vvRotation,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}g.shared=new g(0);class S extends(m(p(v(d)))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=a.LW.LINE,t.symbologyType=e.symbologyType,t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}S.shared=new S(0);class b extends(m(p(y(v(d))))){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=a.LW.TEXT,t.symbologyType=e.symbologyType,t.setVV(e.vvFlags,e),t.data}getVariation(){return{...super.getVariation(),vvColor:this.vvColor,vvOpacity:this.vvOpacity,vvRotation:this.vvRotation,vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}b.shared=new b(0);class _ extends(v(d)){static load(e){const t=this.shared;return t.data=e,t}static from(e){const t=this.load(0);return t.geometryType=a.LW.LABEL,t.symbologyType=e.symbologyType,t.setVV(e.vvFlags,e),t.mapAligned=(0,i.NS)(e.placement),t.data}getVariation(){return{...super.getVariation(),vvSizeFieldStops:this.vvSizeFieldStops,vvSizeMinMaxValue:this.vvSizeMinMaxValue,vvSizeScaleStops:this.vvSizeScaleStops,vvSizeUnitValue:this.vvSizeUnitValue}}}_.shared=new _(0)},67766:(e,t,s)=>{s.d(t,{Z:()=>l});var r=s(36663),i=s(53280),a=s(81977),n=(s(7283),s(7753),s(40266));let o=class extends i.r{initialize(){}destroy(){}get supportsTileUpdates(){return!1}get spatialReference(){const e=this.get("tileStore.tileScheme.spatialReference");return e&&e.toJSON()||null}};(0,r._)([(0,a.Cb)({readOnly:!0})],o.prototype,"supportsTileUpdates",null),(0,r._)([(0,a.Cb)({constructOnly:!0})],o.prototype,"remoteClient",void 0),(0,r._)([(0,a.Cb)({constructOnly:!0})],o.prototype,"service",void 0),(0,r._)([(0,a.Cb)()],o.prototype,"spatialReference",null),(0,r._)([(0,a.Cb)({constructOnly:!0})],o.prototype,"tileInfo",void 0),(0,r._)([(0,a.Cb)({constructOnly:!0})],o.prototype,"tileStore",void 0),o=(0,r._)([(0,n.j)("esri.views.2d.layers.features.processors.BaseProcessor")],o);const l=o},84899:(e,t,s)=>{s.r(t),s.d(t,{default:()=>L});var r=s(36663),i=s(89060),a=(s(70375),s(39994),s(13802),s(61681)),n=s(78668),o=(s(7283),s(7753),s(40266)),l=s(27281),c=s(14685),u=s(88013),h=s(38716),d=s(88710),v=s(13191),y=s(12044),m=s(41808),p=s(40576),f=s(67766);class g{constructor(e){this._remoteClient=e,this._resourceMap=new Map,this._inFlightResourceMap=new Map,this.geometryEngine=null,this.geometryEnginePromise=null}destroy(){}async fetchResource(e,t){const s=this._resourceMap,r=s.get(e);if(r)return r;let i=this._inFlightResourceMap.get(e);if(i)return i;try{i=this._remoteClient.invoke("tileRenderer.fetchResource",{url:e},{...t}),this._inFlightResourceMap.set(e,i),i.then((t=>(this._inFlightResourceMap.delete(e),s.set(e,t),t)))}catch(e){return(0,n.D_)(e)?null:{width:0,height:0}}return i}getResource(e){return this._resourceMap.get(e)??null}}function S(e,t){return(!e.minScale||e.minScale>=t)&&(!e.maxScale||e.maxScale<=t)}function b(e){const t=e.message,s={message:{data:{},tileKey:t.tileKey,tileKeyOrigin:t.tileKeyOrigin,version:t.version},transferList:new Array};for(const e in t.data){const r=t.data[e];if(s.message.data[e]=null,(0,a.pC)(r)){const t=r.stride,i=r.indices.slice(0),n=r.vertices.slice(0),o=r.records.slice(0),l={stride:t,indices:i,vertices:n,records:o,metrics:(0,a.yw)(r.metrics,(e=>e.slice(0)))};s.transferList.push(i,n,o),s.message.data[e]=l}}return s}let _=class extends f.Z{constructor(){super(...arguments),this.type="symbol",this._matchers={feature:null,aggregate:null},this._bufferData=new Map,this._bufferIds=new Map}initialize(){this.handles.add([this.tileStore.on("update",this.onTileUpdate.bind(this))]),this._resourceManagerProxy=new g(this.remoteClient)}destroy(){this._resourceManagerProxy.destroy()}get supportsTileUpdates(){return!0}forEachBufferId(e){this._bufferIds.forEach((t=>{t.forEach(e)}))}async update(e,t){const s=t.schema.processors[0];if("symbol"!==s.type)return;const r=(0,l.Hg)(this._schema,s);((0,l.uD)(r,"mesh")||(0,l.uD)(r,"target"))&&(e.mesh=!0,e.why?.mesh.push("Symbology changed"),this._schema=s,this._factory=this._createFactory(s),this._factory.update(s,this.tileStore.tileScheme.tileInfo))}onTileMessage(e,t,s,r){return(0,n.k_)(r),this._onTileData(e,t,s,r)}onTileClear(e){return this._bufferData.delete(e.key.id),this._bufferIds.delete(e.key.id),this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:e.id,data:{clear:!0}})}onTileError(e,t,s){const r=s.signal,i={tileKey:e.id,error:t};return this.remoteClient.invoke("tileRenderer.onTileError",i,{signal:r})}onTileUpdate(e){for(const t of e.removed)this._bufferData.has(t.key.id)&&this._bufferData.delete(t.key.id),this._bufferIds.has(t.key.id)&&this._bufferIds.delete(t.key.id);for(const t of e.added)this._bufferData.forEach((e=>{for(const s of e)s.message.tileKey===t.id&&this._updateTileMesh("append",t,b(s),[],!1,!1,null)}))}_addBufferData(e,t){this._bufferData.has(e)||this._bufferData.set(e,[]),this._bufferData.get(e)?.push(b(t))}_createFactory(e){const{geometryType:t,objectIdField:s,fields:r}=this.service,i={geometryType:t,fields:r,spatialReference:c.Z.fromJSON(this.spatialReference)},n=new y.Wr(((e,t)=>this.remoteClient.invoke("tileRenderer.getMaterialItems",e,t)),this.tileStore.tileScheme.tileInfo),{matcher:o,aggregateMatcher:l}=e.mesh;return this._store=n,this._matchers.feature=(0,m.fL)(o,n,i,this._resourceManagerProxy),this._matchers.aggregate=(0,a.yw)(l,(e=>(0,m.fL)(e,n,i,this._resourceManagerProxy))),new v.j(t,s,n)}async _onTileData(e,t,s,r){(0,n.k_)(r);const{type:i,addOrUpdate:o,remove:l,clear:c,end:u}=t,h=!!this._schema.mesh.sortKey;if(!o){const t={type:i,addOrUpdate:null,remove:l,clear:c,end:u,sort:h};return this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:e.id,data:t},r)}const d=this._processFeatures(e,o,s,r,t.status?.version);try{const s=await d;if((0,a.Wi)(s)){const t={type:i,addOrUpdate:null,remove:l,clear:c,end:u,sort:h};return this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:e.id,data:t},r)}const n=[];for(const t of s){let s=!1;const r=t.message.bufferIds,i=e.key.id,o=t.message.tileKey;if(i!==o&&(0,a.pC)(r)){if(!this.tileStore.get(o)){this._addBufferData(i,t),n.push(t);continue}let e=this._bufferIds.get(o);e||(e=new Set,this._bufferIds.set(o,e));const a=Array.from(r);for(const t of a){if(e.has(t)){s=!0;break}e.add(t)}}s||(this._addBufferData(i,t),n.push(t))}await Promise.all(n.map((s=>{const a=e.key.id===s.message.tileKey,n=a?t.remove:[],o=a&&t.end;return this._updateTileMesh(i,e,s,n,o,!!t.clear,r.signal)})))}catch(t){this._handleError(e,t,r)}}async _updateTileMesh(e,t,s,r,i,o,l){const c=e,u=s.message.tileKey,h=!!this._schema.mesh.sortKey;u!==t.key.id&&(i=!1);const d=(0,a.yw)(s,(e=>e.message)),v=(0,a.yw)(s,(e=>e.transferList))||[],y={type:c,addOrUpdate:d,remove:r,clear:o,end:i,sort:h},m={transferList:(0,a.Wg)(v)||[],signal:l};return(0,n.k_)(m),this.remoteClient.invoke("tileRenderer.onTileData",{tileKey:u,data:y},m)}async _processFeatures(e,t,s,r,i){if((0,a.Wi)(t)||!t.hasFeatures)return null;const o={transform:e.transform,hasZ:!1,hasM:!1},l=this._factory,c={viewingMode:"",scale:e.scale},u=await this._matchers.feature,h=await this._matchers.aggregate;(0,n.k_)(r);const d=this._getLabelInfos(e,t);return await l.analyze(t.getCursor(),this._resourceManagerProxy,u,h,o,c),(0,n.k_)(r),this._writeFeatureSet(e,t,o,d,l,s,i)}_writeFeatureSet(e,t,s,r,i,n,o){const l=t.getSize(),c=this._schema.mesh.matcher.symbologyType,u=new d._(e.key.id,{features:l,records:l,metrics:0},c,n,c!==h.mD.HEATMAP,o),v={viewingMode:"",scale:e.scale},y=t.getCursor();for(;y.next();)try{const t=y.getDisplayId(),n=(0,a.pC)(r)?r.get(t):null;i.writeCursor(u,y,s,v,e.level,n,this._resourceManagerProxy)}catch(e){}const m=e.tileInfoView.tileInfo.isWrappable;return u.serialize(m)}_handleError(e,t,s){if(!(0,n.D_)(t)){const r={tileKey:e.id,error:t.message};return this.remoteClient.invoke("tileRenderer.onTileError",r,{signal:s.signal})}return Promise.resolve()}_getLabelingSchemaForScale(e){const t=this._schema.mesh.labels;if((0,a.Wi)(t))return null;if("subtype"===t.type){const s={type:"subtype",classes:{}};let r=!1;for(const i in t.classes){const a=t.classes[i].filter((t=>S(t,e.scale)));r=r||!!a.length,s.classes[i]=a}return r?s:null}const s=t.classes.filter((t=>S(t,e.scale)));return s.length?{type:"simple",classes:s}:null}_getLabels(e,t){if("subtype"===t.type){const s=this.service.subtypeField,r=(0,a.s3)(s,"Expected to find subtype Field"),i=e.readAttribute(r);return null==i?[]:t.classes[i]??[]}return t.classes}_getLabelInfos(e,t){const s=this._getLabelingSchemaForScale(e);if((0,a.Wi)(s))return null;const r=new Map,n=t.getCursor();for(;n.next();){const e=n.getDisplayId(),t=[],a=(0,u.nE)(e),o=a&&1!==n.readAttribute("cluster_count")?"aggregate":"feature",l=this._getLabels(n,s);for(const s of l){if(s.target!==o)continue;const r=n.getStorage(),l=a&&"feature"===o?r.getComputedStringAtIndex(n.readAttribute("referenceId"),s.fieldIndex):r.getComputedStringAtIndex(e,s.fieldIndex);if(!l)continue;const c=(0,i.E)(l.toString()),u=c[0],h=c[1];this._store.getMosaicItem(s.symbol,(0,p._)(u)).then((e=>{t[s.index]={glyphs:e.glyphMosaicItems??[],rtl:h,index:s.index}}))}r.set(e,t)}return r}};_=(0,r._)([(0,o.j)("esri.views.2d.layers.features.processors.SymbolProcessor")],_);const L=_},81666:(e,t,s)=>{s.d(t,{x:()=>S,B:()=>g});var r=s(24361),i=s(38716),a=s(89106);const n={marker:i.LW.MARKER,fill:i.LW.FILL,line:i.LW.LINE,text:i.LW.TEXT};class o{constructor(e,t,s,r){const o={minScale:t?.minScale,maxScale:t?.maxScale},l=function(e){return e.minScale||e.maxScale?e.minScale+"-"+e.maxScale:""}(o);this.layers=e,this.data=t,this.hash=this._createHash()+l,this.rendererKey=s;const c={isOutline:!1,placement:null,symbologyType:i.mD.DEFAULT,vvFlags:s};for(const t of e){const e=n[t.type];c.isOutline="line"===t.type&&t.isOutline,t.materialKey=(0,a.jj)(e,c),t.maxVVSize=r,t.scaleInfo=o,t.templateHash+=l}}get type(){return"expanded-cim"}_createHash(){let e="";for(const t of this.layers)e+=t.templateHash;return e}}var l=s(57989),c=s(70375),u=s(61681),h=s(78668),d=s(3466),v=s(26869),y=s(16641),m=s(11644);async function p(e,t,s){if(!e.name)throw new c.Z("style-symbol-reference-name-missing","Missing name in style symbol reference");if(e.styleName&&"Esri2DPointSymbolsStyle"===e.styleName)return async function(e,t){const s=m.wm.replace(/\{SymbolName\}/gi,e.name);try{const e=await(0,m.EJ)(s,t);return(0,m.KV)(e.data)}catch(e){return(0,h.k_)(e),null}}(e,s);try{return async function(e,t,s,r){const i=e.data,a={portal:s&&(0,u.pC)(s.portal)?s.portal:v.Z.getDefault(),url:(0,d.mN)(e.baseUrl),origin:"portal-item"},n=i.items.find((e=>e.name===t));if(!n)throw new c.Z("symbolstyleutils:symbol-name-not-found",`The symbol name '${t}' could not be found`,{symbolName:t});let o=(0,y.f)((0,m.v9)(n,"cimRef"),a);(0,l.XO)()&&(o=(0,l.pJ)(o));try{const e=await(0,m.EJ)(o,r);return(0,m.KV)(e.data)}catch(e){return(0,h.k_)(e),null}}(await(0,m.n2)(e,t,s),e.name,t,s)}catch(e){return(0,h.k_)(e),null}}const f=async(e,t,s)=>new o(await(0,r.c)(e.data,t,s),e.data,e.rendererKey,e.maxVVSize);async function g(e,t,s,r){if(!e)return null;if("cim"===e.type)return f(e,t,s);if("web-style"===e.type){const i={type:"cim",data:await p(e,null,r)??void 0,rendererKey:e.rendererKey,maxVVSize:e.maxVVSize};return f(i,t,s)}return e}function S(e){if(!e)return null;const{avoidSDFRasterization:t,type:s,cim:r,url:i,materialHash:a}=e,n={cim:r,type:s,mosaicHash:a,url:i,size:null,dashTemplate:null,path:null,text:null,fontName:null,animatedSymbolProperties:null,avoidSDFRasterization:t};switch(s){case"marker":n.size=e.size,n.path=e.path,n.animatedSymbolProperties=e.animatedSymbolProperties;break;case"line":n.dashTemplate=e.dashTemplate;break;case"text":n.text=e.text,n.fontName=e.fontName}return n}}}]);