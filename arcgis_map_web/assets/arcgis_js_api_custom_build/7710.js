"use strict";(self.webpackChunkarcgis_webpack01=self.webpackChunkarcgis_webpack01||[]).push([[7710],{77710:(e,t,l)=>{l.r(t),l.d(t,{fetchSymbolFromStyle:()=>f,resolveWebStyleSymbol:()=>b});var n=l(4905),a=l(57989),r=l(70375),s=l(61681),m=l(3466),o=l(26869),i=l(16641),u=l(83313),y=l(85068),p=l(11644),c=l(3032);function b(e,t,l,n){return e.name?e.styleName&&"Esri2DPointSymbolsStyle"===e.styleName?function(e,t,l){const n=p.wm.replace(/\{SymbolName\}/gi,e.name),a=(0,s.pC)(t.portal)?t.portal:o.Z.getDefault();return(0,p.EJ)(n,l).then((e=>{const t=(0,p.KV)(e.data);return(0,u.im)(t,{portal:a,url:(0,m.mN)((0,m.Yd)(n)),origin:"portal-item"})}))}(e,t,n):(0,p.n2)(e,t,n).then((a=>f((0,s.s3)(a),e.name,t,l,n))):Promise.reject(new r.Z("symbolstyleutils:style-symbol-reference-name-missing","Missing name in style symbol reference"))}function f(e,t,l,b,f){const g=e.data,h=l&&(0,s.pC)(l.portal)?l.portal:o.Z.getDefault(),d={portal:h,url:(0,m.mN)(e.baseUrl),origin:"portal-item"},w=g.items.find((e=>e.name===t));if(!w){const e=`The symbol name '${t}' could not be found`;return Promise.reject(new r.Z("symbolstyleutils:symbol-name-not-found",e,{symbolName:t}))}let N=(0,i.f)((0,p.v9)(w,b),d),S=w.thumbnail?.href??null;const k=w.thumbnail&&w.thumbnail.imageData;(0,a.XO)()&&(N=(0,a.pJ)(N)??"",S=(0,a.pJ)(S));const Z={portal:h,url:(0,m.mN)((0,m.Yd)(N)),origin:"portal-item"};return(0,p.EJ)(N,f).then((a=>{const r="cimRef"===b?(0,p.KV)(a.data):a.data,s=(0,u.im)(r,Z);if(s&&(0,n.dU)(s)){if(S){const e=(0,i.f)(S,d);s.thumbnail=new c.p({url:e})}else k&&(s.thumbnail=new c.p({url:`data:image/png;base64,${k}`}));e.styleUrl?s.styleOrigin=new y.Z({portal:l.portal,styleUrl:e.styleUrl,name:t}):e.styleName&&(s.styleOrigin=new y.Z({portal:l.portal,styleName:e.styleName,name:t}))}return s}))}}}]);