(self.webpackChunkarcgis_webpack01=self.webpackChunkarcgis_webpack01||[]).push([[6204,9985,6194],{50897:(e,t,r)=>{"use strict";r.d(t,{Gv:()=>u,SO:()=>a,r3:()=>y,Ue:()=>o,oJ:()=>s,al:()=>i,kK:()=>p,HH:()=>l}),r(95830);var n=r(52937);function o(e=c){return[e[0],e[1],e[2],e[3]]}function i(e,t,r,n,i=o()){return i[0]=e,i[1]=t,i[2]=r,i[3]=n,i}function s(e,t=o()){return t[0]=e.xmin,t[1]=e.ymin,t[2]=e.xmax,t[3]=e.ymax,t}function l(e,t){return new n.Z({xmin:e[0],ymin:e[1],xmax:e[2],ymax:e[3],spatialReference:t})}function a(e){return function(e){return e[0]>=e[2]?0:e[2]-e[0]}(e)*function(e){return e[1]>=e[3]?0:e[3]-e[1]}(e)}function p(e,t){return Math.max(t[0],e[0])<=Math.min(t[2],e[2])&&Math.max(t[1],e[1])<=Math.min(t[3],e[3])}function y(e,t){return t[0]>=e[0]&&t[2]<=e[2]&&t[1]>=e[1]&&t[3]<=e[3]}const u=[1/0,1/0,-1/0,-1/0],c=[0,0,0,0]},91535:(e,t,r)=>{"use strict";r.d(t,{aX:()=>v});var n=r(34926),o=r(59472),i=r(36544),s=r(32656),l=r(27780),a=r(41241),p=r(11720),y=r(93833),u=r(49573),c=r(10923),f=r(56885),m=(r(36348),r(36654));async function h(e,t,r){const n="string"==typeof e?(0,c.mN)(e):e,o=t[0].spatialReference,i=(0,f.Ji)(t[0]),s={...r,query:{...n.query,f:"json",sr:o.wkid?o.wkid:JSON.stringify(o),geometries:JSON.stringify((l=t,{geometryType:(0,f.Ji)(l[0]),geometries:l.map((e=>e.toJSON()))}))}};var l;return function(e,t,r){const n=(0,f.q9)(t);return e.map((e=>{const t=n.fromJSON(e);return t.spatialReference=r,t}))}((await(0,m.default)(n.path+"/simplify",s)).data,i,o)}const d=i.Z.getLogger("esri.geometry.support.normalizeUtils");function g(e){return"polygon"===e[0].type}function b(e){return"polyline"===e[0].type}function w(e,t,r){if(t){const t=function(e,t){if(!(e instanceof y.Z||e instanceof p.Z)){const e="straightLineDensify: the input geometry is neither polyline nor polygon";throw d.error(e),new s.Z(e)}const r=(0,u.x3)(e),n=[];for(const e of r){const r=[];n.push(r),r.push([e[0][0],e[0][1]]);for(let n=0;n<e.length-1;n++){const o=e[n][0],i=e[n][1],s=e[n+1][0],l=e[n+1][1],a=Math.sqrt((s-o)*(s-o)+(l-i)*(l-i)),p=(l-i)/a,y=(s-o)/a,u=a/t;if(u>1){for(let e=1;e<=u-1;e++){const n=e*t,s=y*n+o,l=p*n+i;r.push([s,l])}const e=(a+Math.floor(u-1)*t)/2,n=y*e+o,s=p*e+i;r.push([n,s])}r.push([s,l])}}return function(e){return"polygon"===e.type}(e)?new p.Z({rings:n,spatialReference:e.spatialReference}):new y.Z({paths:n,spatialReference:e.spatialReference})}(e,1e6);e=(0,a.Sx)(t,!0)}return r&&(e=(0,u.Sy)(e,r)),e}function S(e,t,r){if(Array.isArray(e)){const n=e[0];if(n>t){const r=(0,u.XZ)(n,t);e[0]=n+r*(-2*t)}else if(n<r){const t=(0,u.XZ)(n,r);e[0]=n+t*(-2*r)}}else{const n=e.x;if(n>t){const r=(0,u.XZ)(n,t);e=e.clone().offset(r*(-2*t),0)}else if(n<r){const t=(0,u.XZ)(n,r);e=e.clone().offset(t*(-2*r),0)}}return e}function _(e,t){let r=-1;for(let n=0;n<t.cutIndexes.length;n++){const o=t.cutIndexes[n],i=t.geometries[n],s=(0,u.x3)(i);for(let e=0;e<s.length;e++){const t=s[e];t.some((r=>{if(r[0]<180)return!0;{let r=0;for(let e=0;e<t.length;e++){const n=t[e][0];r=n>r?n:r}r=Number(r.toFixed(9));const n=-360*(0,u.XZ)(r,180);for(let r=0;r<t.length;r++){const t=i.getPoint(e,r);i.setPoint(e,r,t.clone().offset(n,0))}return!0}}))}if(o===r){if(g(e))for(const t of(0,u.x3)(i))e[o]=e[o].addRing(t);else if(b(e))for(const t of(0,u.x3)(i))e[o]=e[o].addPath(t)}else r=o,e[o]=i}return e}async function v(e,t,r){if(!Array.isArray(e))return v([e],t);const i=t?t.url:n.Z.geometryServiceUrl;let s,d,g,b,x,C,Z,O,N=0;const R=[],J=[];for(const t of e)if((0,o.Wi)(t))J.push(t);else if(s||(s=t.spatialReference,d=(0,l.C5)(s),g=s.isWebMercator,C=g?102100:4326,b=u.UZ[C].maxX,x=u.UZ[C].minX,Z=u.UZ[C].plus180Line,O=u.UZ[C].minus180Line),d)if("mesh"===t.type)J.push(t);else if("point"===t.type)J.push(S(t.clone(),b,x));else if("multipoint"===t.type){const e=t.clone();e.points=e.points.map((e=>S(e,b,x))),J.push(e)}else if("extent"===t.type){const e=t.clone()._normalize(!1,!1,d);J.push(e.rings?new p.Z(e):e)}else if(t.extent){const e=t.extent,r=(0,u.XZ)(e.xmin,x)*(2*b);let n=0===r?t.clone():(0,u.Sy)(t.clone(),r);e.offset(r,0),e.intersects(Z)&&e.xmax!==b?(N=e.xmax>N?e.xmax:N,n=w(n,g),R.push(n),J.push("cut")):e.intersects(O)&&e.xmin!==x?(N=e.xmax*(2*b)>N?e.xmax*(2*b):N,n=w(n,g,360),R.push(n),J.push("cut")):J.push(n)}else J.push(t.clone());else J.push(t);let M=(0,u.XZ)(N,b),L=-90;const T=M,G=new y.Z;for(;M>0;){const e=360*M-180;G.addPath([[e,L],[e,-1*L]]),L*=-1,M--}if(R.length>0&&T>0){const t=_(R,await async function(e,t,r,n){const o="string"==typeof e?(0,c.mN)(e):e,i=t[0].spatialReference,s={...n,query:{...o.query,f:"json",sr:JSON.stringify(i),target:JSON.stringify({geometryType:(0,f.Ji)(t[0]),geometries:t}),cutter:JSON.stringify(r)}},l=await(0,m.default)(o.path+"/cut",s),{cutIndexes:a,geometries:p=[]}=l.data;return{cutIndexes:a,geometries:p.map((e=>{const t=(0,f.im)(e);return t.spatialReference=i,t}))}}(i,R,G,r)),n=[],s=[];for(let r=0;r<J.length;r++){const i=J[r];if("cut"!==i)s.push(i);else{const i=t.shift(),l=e[r];(0,o.pC)(l)&&"polygon"===l.type&&l.rings&&l.rings.length>1&&i.rings.length>=l.rings.length?(n.push(i),s.push("simplify")):s.push(g?(0,a.$)(i):i)}}if(!n.length)return s;const l=await h(i,n,r),p=[];for(let e=0;e<s.length;e++){const t=s[e];"simplify"!==t?p.push(t):p.push(g?(0,a.$)(l.shift()):l.shift())}return p}const P=[];for(let e=0;e<J.length;e++){const t=J[e];if("cut"!==t)P.push(t);else{const e=R.shift();P.push(!0===g?(0,a.$)(e):e)}}return Promise.resolve(P)}},49573:(e,t,r)=>{"use strict";r.d(t,{UZ:()=>s,x3:()=>p,XZ:()=>l,Sy:()=>a});var n=r(73032),o=r(93833),i=r(56885);const s={102100:{maxX:20037508.342788905,minX:-20037508.342788905,plus180Line:new o.Z({paths:[[[20037508.342788905,-20037508.342788905],[20037508.342788905,20037508.342788905]]],spatialReference:n.Z.WebMercator}),minus180Line:new o.Z({paths:[[[-20037508.342788905,-20037508.342788905],[-20037508.342788905,20037508.342788905]]],spatialReference:n.Z.WebMercator})},4326:{maxX:180,minX:-180,plus180Line:new o.Z({paths:[[[180,-180],[180,180]]],spatialReference:n.Z.WGS84}),minus180Line:new o.Z({paths:[[[-180,-180],[-180,180]]],spatialReference:n.Z.WGS84})}};function l(e,t){return Math.ceil((e-t)/(2*t))}function a(e,t){const r=p(e);for(const e of r)for(const r of e)r[0]+=t;return e}function p(e){return(0,i.oU)(e)?e.rings:e.paths}},90453:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>B});var n=r(56140),o=(r(95830),r(82550)),i=r(10103),s=r(59472),l=r(36544),a=(r(68055),r(79881)),p=r(30590),y=r(15307),u=r(87566),c=r(60538),f=r(32656),m=(r(10923),r(57002),r(86035),r(27780)),h=r(73032),d=r(52937),g=(r(36348),r(28293)),b=r(48142),w=r(5674),S=r(88083),_=r(44190),v=(r(89982),r(15988)),x=r(56700),C=r(43072),Z=r(55162),O=r(78910),N=r(91535),R=r(70834),J=r(57407),M=r(33716),L=r(10113),T=r(8809),G=r(96981),P=r(32105);const j=g.Z.ofType(v.Z);l.Z.getLogger("esri.support.GraphicsCollection");let I=class extends j{constructor(e){super(e),this.on("before-add",(e=>{e.item||e.preventDefault()})),this.on("after-add",(e=>this._own(e.item))),this.on("after-remove",(({item:e})=>{e.layer=null}))}destroy(){this._unownAll()}get owner(){return this._get("owner")}set owner(e){e!==this._get("owner")&&(this._unownAll(),this._set("owner",e),this._ownAll())}_createNewInstance(e){return new j(e)}_ownAll(){this.items.forEach((e=>this._own(e)))}_own(e){e.layer&&"remove"in e.layer&&e.layer!==this.owner&&e.layer.remove(e),e.layer=this.owner}_unownAll(){this.items.forEach((e=>this._unown(e)))}_unown(e){e.layer===this.owner&&(e.layer=null)}};(0,n._)([(0,a.Cb)()],I.prototype,"owner",null),I=(0,n._)([(0,u.j)("esri.support.GraphicsCollection")],I);const F=I;let W=class extends((0,J.h)((0,L.M)(x.Z))){constructor(e){super(e),this.elevationInfo=null,this.graphics=new F,this.screenSizePerspectiveEnabled=!0,this.type="graphics",this.internal=!1}destroy(){this.removeAll(),this.graphics.destroy()}add(e){return this.graphics.add(e),this}addMany(e){return this.graphics.addMany(e),this}removeAll(){return this.graphics.removeAll(),this}remove(e){this.graphics.remove(e)}removeMany(e){this.graphics.removeMany(e)}on(e,t){return super.on(e,t)}graphicChanged(e){this.emit("graphic-update",e)}};(0,n._)([(0,a.Cb)({type:G.Z})],W.prototype,"elevationInfo",void 0),(0,n._)([(0,a.Cb)(((e="graphics")=>({type:I,cast:P.R,set(t){const r=(0,P.Z)(t,this._get(e),I);r.owner=this,this._set(e,r)}}))())],W.prototype,"graphics",void 0),(0,n._)([(0,a.Cb)({type:["show","hide"]})],W.prototype,"listMode",void 0),(0,n._)([(0,a.Cb)()],W.prototype,"screenSizePerspectiveEnabled",void 0),(0,n._)([(0,a.Cb)({readOnly:!0})],W.prototype,"type",void 0),(0,n._)([(0,a.Cb)({constructOnly:!0})],W.prototype,"internal",void 0),W=(0,n._)([(0,u.j)("esri.layers.GraphicsLayer")],W);const z=W;var E=r(53277);function X(e){return e.layers.some((e=>null!=e.layerDefinition.visibilityField))}const q=new R.Z({name:"OBJECTID",alias:"OBJECTID",type:"oid",nullable:!1,editable:!1}),D=new R.Z({name:"title",alias:"Title",type:"string",nullable:!0,editable:!0});let k=class extends z{constructor(){super(...arguments),this.visibilityMode="inherited"}initialize(){for(const e of this.graphics)e.sourceLayer=this.layer;this.graphics.on("after-add",(e=>{e.item.sourceLayer=this.layer})),this.graphics.on("after-remove",(e=>{e.item.sourceLayer=null}))}get sublayers(){return this.graphics}};(0,n._)([(0,a.Cb)({readOnly:!0})],k.prototype,"sublayers",null),(0,n._)([(0,a.Cb)()],k.prototype,"layer",void 0),(0,n._)([(0,a.Cb)({readOnly:!0})],k.prototype,"visibilityMode",void 0),k=(0,n._)([(0,u.j)("esri.layers.MapNotesLayer.MapNotesSublayer")],k);const A=[{geometryType:"polygon",geometryTypeJSON:"esriGeometryPolygon",layerId:"polygonLayer",title:"Polygons",identifyingSymbol:(new w.Z).toJSON()},{geometryType:"polyline",geometryTypeJSON:"esriGeometryPolyline",layerId:"polylineLayer",title:"Polylines",identifyingSymbol:(new b.Z).toJSON()},{geometryType:"multipoint",geometryTypeJSON:"esriGeometryMultipoint",layerId:"multipointLayer",title:"Multipoints",identifyingSymbol:(new S.Z).toJSON()},{geometryType:"point",geometryTypeJSON:"esriGeometryPoint",layerId:"pointLayer",title:"Points",identifyingSymbol:(new S.Z).toJSON()},{geometryType:"point",geometryTypeJSON:"esriGeometryPoint",layerId:"textLayer",title:"Text",identifyingSymbol:(new _.Z).toJSON()}];let U=class extends((0,J.h)((0,L.M)((0,O.q)((0,M.I)((0,C.R)(x.Z)))))){constructor(e){super(e),this.capabilities={operations:{supportsMapNotesEditing:!0}},this.featureCollections=null,this.featureCollectionJSON=null,this.featureCollectionType="notes",this.legendEnabled=!1,this.minScale=0,this.maxScale=0,this.spatialReference=h.Z.WGS84,this.sublayers=new g.Z(A.map((e=>new k({id:e.layerId,title:e.title,layer:this})))),this.title="Map Notes",this.type="map-notes",this.visibilityMode="inherited"}readCapabilities(e,t,r){return{operations:{supportsMapNotesEditing:!X(t)&&"portal-item"!==(null==r?void 0:r.origin)}}}readFeatureCollections(e,t,r){if(!X(t))return null;const n=t.layers.map((e=>{const t=new T.default;return t.read(e,r),t}));return new g.Z({items:n})}readLegacyfeatureCollectionJSON(e,t){return X(t)?(0,o.d9)(t.featureCollection):null}readFullExtent(e,t){if(!t.layers.length)return new d.Z({xmin:-180,ymin:-90,xmax:180,ymax:90,spatialReference:h.Z.WGS84});const r=h.Z.fromJSON(t.layers[0].layerDefinition.spatialReference);return t.layers.reduce(((e,t)=>{const r=t.layerDefinition.extent;return r?d.Z.fromJSON(r).union(e):e}),new d.Z({spatialReference:r}))}readMinScale(e,t){for(const e of t.layers)if(null!=e.layerDefinition.minScale)return e.layerDefinition.minScale;return 0}readMaxScale(e,t){for(const e of t.layers)if(null!=e.layerDefinition.maxScale)return e.layerDefinition.maxScale;return 0}get multipointLayer(){return this._findSublayer("multipointLayer")}get pointLayer(){return this._findSublayer("pointLayer")}get polygonLayer(){return this._findSublayer("polygonLayer")}get polylineLayer(){return this._findSublayer("polylineLayer")}readSpatialReference(e,t){return t.layers.length?h.Z.fromJSON(t.layers[0].layerDefinition.spatialReference):h.Z.WGS84}readSublayers(e,t,r){if(X(t))return null;const n=[];for(let e=0;e<t.layers.length;e++){var o;const{layerDefinition:r,featureSet:i}=t.layers[e],s=null!=(o=r.geometryType)?o:i.geometryType,l=A.find((e=>{var t,n,o;return s===e.geometryTypeJSON&&(null==(t=r.drawingInfo)||null==(n=t.renderer)||null==(o=n.symbol)?void 0:o.type)===e.identifyingSymbol.type}));if(l){const e=new k({id:l.layerId,title:r.name,layer:this,graphics:i.features.map((({geometry:e,symbol:t,attributes:r,popupInfo:n})=>v.Z.fromJSON({attributes:r,geometry:e,symbol:t,popupTemplate:n})))});n.push(e)}}return new g.Z(n)}writeSublayers(e,t,r,n){const{minScale:o,maxScale:l}=this;if((0,s.Wi)(e))return;const a=e.some((e=>e.graphics.length>0));var p;if(!this.capabilities.operations.supportsMapNotesEditing)return void(a&&(null==n||null==(p=n.messages)||p.push(new f.Z("map-notes-layer:editing-not-supported","New map notes cannot be added to this layer"))));const y=[];let u=this.spatialReference.toJSON();e:for(const t of e)for(const e of t.graphics)if((0,s.pC)(e.geometry)){u=e.geometry.spatialReference.toJSON();break e}for(const t of A){const r=e.find((e=>t.layerId===e.id));this._writeMapNoteSublayer(y,r,t,o,l,u,n)}(0,i.RB)("featureCollection.layers",y,t)}get textLayer(){return this._findSublayer("textLayer")}load(e){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Collection"]},e)),Promise.resolve(this)}read(e,t){"featureCollection"in e&&(e=(0,o.d9)(e),Object.assign(e,e.featureCollection)),super.read(e,t)}async beforeSave(){if((0,s.Wi)(this.sublayers))return;let e=null;const t=[];for(const r of this.sublayers)for(const n of r.graphics)if((0,s.pC)(n.geometry)){const r=n.geometry;e?(0,m.fS)(r.spatialReference,e)||((0,Z.Up)(r.spatialReference,e)||(0,Z.kR)()||await(0,Z.zD)(),n.geometry=(0,Z.iV)(r,e)):e=r.spatialReference,t.push(n)}const r=await(0,N.aX)(t.map((e=>e.geometry)));t.forEach(((e,t)=>e.geometry=r[t]))}_findSublayer(e){var t,r;return(0,s.Wi)(this.sublayers)?null:null!=(t=null==(r=this.sublayers)?void 0:r.find((t=>t.id===e)))?t:null}_writeMapNoteSublayer(e,t,r,n,i,l,a){const p=[];if(!(0,s.Wi)(t)){for(const e of t.graphics)this._writeMapNote(p,e,r.geometryType,a);this._normalizeObjectIds(p,q),e.push({layerDefinition:{name:t.title,drawingInfo:{renderer:{type:"simple",symbol:(0,o.d9)(r.identifyingSymbol)}},geometryType:r.geometryTypeJSON,minScale:n,maxScale:i,objectIdField:"OBJECTID",fields:[q.toJSON(),D.toJSON()],spatialReference:l},featureSet:{features:p,geometryType:r.geometryTypeJSON}})}}_writeMapNote(e,t,r,n){if((0,s.Wi)(t))return;const{geometry:o,symbol:i,popupTemplate:l}=t;if((0,s.Wi)(o))return;var a,p;if(o.type!==r)return void(null==n||null==(a=n.messages)||a.push(new y.Z("map-notes-layer:invalid-geometry-type",`Geometry "${o.type}" cannot be saved in "${r}" layer`,{graphic:t})));if((0,s.Wi)(i))return void(null==n||null==(p=n.messages)||p.push(new y.Z("map-notes-layer:no-symbol","Skipping map notes with no symbol",{graphic:t})));const u={attributes:{...t.attributes},geometry:o.toJSON(),symbol:i.toJSON()};(0,s.pC)(l)&&(u.popupInfo=l.toJSON()),e.push(u)}_normalizeObjectIds(e,t){const r=t.name;let n=(0,E.S)(r,e)+1;const o=new Set;for(const t of e){t.attributes||(t.attributes={});const{attributes:e}=t;(null==e[r]||o.has(e[r]))&&(e[r]=n++),o.add(e[r])}}};(0,n._)([(0,a.Cb)({readOnly:!0})],U.prototype,"capabilities",void 0),(0,n._)([(0,p.r)(["portal-item","web-map"],"capabilities",["layers"])],U.prototype,"readCapabilities",null),(0,n._)([(0,a.Cb)({readOnly:!0})],U.prototype,"featureCollections",void 0),(0,n._)([(0,p.r)(["web-map","portal-item"],"featureCollections",["layers"])],U.prototype,"readFeatureCollections",null),(0,n._)([(0,a.Cb)({readOnly:!0,json:{origins:{"web-map":{write:{enabled:!0,target:"featureCollection"}}}}})],U.prototype,"featureCollectionJSON",void 0),(0,n._)([(0,p.r)(["web-map","portal-item"],"featureCollectionJSON",["featureCollection"])],U.prototype,"readLegacyfeatureCollectionJSON",null),(0,n._)([(0,a.Cb)({readOnly:!0,json:{read:!1,write:{enabled:!0,ignoreOrigin:!0}}})],U.prototype,"featureCollectionType",void 0),(0,n._)([(0,a.Cb)({json:{write:!1}})],U.prototype,"fullExtent",void 0),(0,n._)([(0,p.r)(["web-map","portal-item"],"fullExtent",["layers"])],U.prototype,"readFullExtent",null),(0,n._)([(0,a.Cb)({readOnly:!0,json:{origins:{"web-map":{write:{target:"featureCollection.showLegend",overridePolicy(){return{enabled:null!=this.featureCollectionJSON}}}}}}})],U.prototype,"legendEnabled",void 0),(0,n._)([(0,a.Cb)({type:["show","hide"]})],U.prototype,"listMode",void 0),(0,n._)([(0,a.Cb)({type:Number,nonNullable:!0,json:{write:!1}})],U.prototype,"minScale",void 0),(0,n._)([(0,p.r)(["web-map","portal-item"],"minScale",["layers"])],U.prototype,"readMinScale",null),(0,n._)([(0,a.Cb)({type:Number,nonNullable:!0,json:{write:!1}})],U.prototype,"maxScale",void 0),(0,n._)([(0,p.r)(["web-map","portal-item"],"maxScale",["layers"])],U.prototype,"readMaxScale",null),(0,n._)([(0,a.Cb)({readOnly:!0})],U.prototype,"multipointLayer",null),(0,n._)([(0,a.Cb)({value:"ArcGISFeatureLayer",type:["ArcGISFeatureLayer"]})],U.prototype,"operationalLayerType",void 0),(0,n._)([(0,a.Cb)({readOnly:!0})],U.prototype,"pointLayer",null),(0,n._)([(0,a.Cb)({readOnly:!0})],U.prototype,"polygonLayer",null),(0,n._)([(0,a.Cb)({readOnly:!0})],U.prototype,"polylineLayer",null),(0,n._)([(0,a.Cb)({type:h.Z})],U.prototype,"spatialReference",void 0),(0,n._)([(0,p.r)(["web-map","portal-item"],"spatialReference",["layers"])],U.prototype,"readSpatialReference",null),(0,n._)([(0,a.Cb)({readOnly:!0,json:{origins:{"web-map":{write:{ignoreOrigin:!0}}}}})],U.prototype,"sublayers",void 0),(0,n._)([(0,p.r)("web-map","sublayers",["layers"])],U.prototype,"readSublayers",null),(0,n._)([(0,c.c)("web-map","sublayers")],U.prototype,"writeSublayers",null),(0,n._)([(0,a.Cb)({readOnly:!0})],U.prototype,"textLayer",null),(0,n._)([(0,a.Cb)()],U.prototype,"title",void 0),(0,n._)([(0,a.Cb)({readOnly:!0,json:{read:!1}})],U.prototype,"type",void 0),U=(0,n._)([(0,u.j)("esri.layers.MapNotesLayer")],U);const B=U},53277:(e,t,r)=>{"use strict";r.d(t,{S:()=>o,X:()=>n});const n=1;function o(e,t){let r=0;for(const o of t){var n;const t=null==(n=o.attributes)?void 0:n[e];"number"==typeof t&&isFinite(t)&&(r=Math.max(r,t))}return r}},39597:(e,t,r)=>{"use strict";r.d(t,{p:()=>o});var n=r(98863);function o(e,t,r){if(!r||!r.features||!r.hasZ)return;const o=(0,n.k)(r.geometryType,t,e.outSpatialReference);if(o)for(const e of r.features)o(e.geometry)}},98863:(e,t,r)=>{"use strict";r.d(t,{k:()=>s,P:()=>a});var n=r(59472),o=r(27780),i=r(93533);function s(e,t,r){if((0,n.Wi)(t)||(0,n.Wi)(r)||r.vcsWkid||(0,o.fS)(t,r))return null;const s=(0,i._R)(t)/(0,i._R)(r);if(1===s)return null;switch(e){case"point":case"esriGeometryPoint":return e=>function(e,t){e&&null!=e.z&&(e.z*=t)}(e,s);case"polyline":case"esriGeometryPolyline":return e=>function(e,t){if(e)for(const r of e.paths)for(const e of r)e.length>2&&(e[2]*=t)}(e,s);case"polygon":case"esriGeometryPolygon":return e=>function(e,t){if(e)for(const r of e.rings)for(const e of r)e.length>2&&(e[2]*=t)}(e,s);case"multipoint":case"esriGeometryMultipoint":return e=>function(e,t){if(e)for(const r of e.points)r.length>2&&(r[2]*=t)}(e,s);default:return null}}function l(e,t,r){if(null==e.hasM||e.hasZ)for(const e of t)for(const t of e)t.length>2&&(t[2]*=r)}function a(e,t,r){if(!e&&!t||!r)return;const n=(0,i._R)(r);p(e,r,n),p(t,r,n)}function p(e,t,r){if(e)for(const n of e)y(n.geometry,t,r)}function y(e,t,r){if(!e||!e.spatialReference||(0,o.fS)(e.spatialReference,t))return;const n=(0,i._R)(e.spatialReference)/r;if(1!==n)if("x"in e)null!=e.z&&(e.z*=n);else if("rings"in e)l(e,e.rings,n);else if("paths"in e)l(e,e.paths,n);else if("points"in e&&(null==e.hasM||e.hasZ))for(const t of e.points)t.length>2&&(t[2]*=n)}},76194:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>b});var n=r(56140),o=(r(95830),r(59472)),i=(r(36544),r(68055),r(79881)),s=r(56274),l=r(30590),a=r(87566),p=r(60538),y=(r(10923),r(57002),r(86035),r(58385)),u=r(73032),c=r(56885),f=r(36348),m=r(15988),h=r(70834);const d=new s.Xn({esriGeometryPoint:"point",esriGeometryMultipoint:"multipoint",esriGeometryPolyline:"polyline",esriGeometryPolygon:"polygon",esriGeometryEnvelope:"extent",mesh:"mesh","":null});let g=class extends y.wq{constructor(e){super(e),this.displayFieldName=null,this.exceededTransferLimit=!1,this.features=[],this.fields=null,this.geometryType=null,this.hasM=!1,this.hasZ=!1,this.queryGeometry=null,this.spatialReference=null}readFeatures(e,t){const r=u.Z.fromJSON(t.spatialReference),n=[];for(let t=0;t<e.length;t++){const i=e[t],s=m.Z.fromJSON(i),l=i.geometry&&i.geometry.spatialReference;(0,o.pC)(s.geometry)&&!l&&(s.geometry.spatialReference=r),n.push(s)}return n}writeGeometryType(e,t,r,n){if(e)return void d.write(e,t,r,n);const{features:i}=this;if(i)for(const e of i)if(e&&(0,o.pC)(e.geometry))return void d.write(e.geometry.type,t,r,n)}readQueryGeometry(e,t){if(!e)return null;const r=!!e.spatialReference,n=(0,c.im)(e);return!r&&t.spatialReference&&(n.spatialReference=u.Z.fromJSON(t.spatialReference)),n}writeSpatialReference(e,t){if(e)return void(t.spatialReference=e.toJSON());const{features:r}=this;if(r)for(const e of r)if(e&&(0,o.pC)(e.geometry)&&e.geometry.spatialReference)return void(t.spatialReference=e.geometry.spatialReference.toJSON())}toJSON(e){const t=this.write(null);if(t.features&&Array.isArray(e)&&e.length>0)for(let r=0;r<t.features.length;r++){const n=t.features[r];if(n.geometry){const t=e&&e[r];n.geometry=t&&t.toJSON()||n.geometry}}return t}quantize(e){const{scale:[t,r],translate:[n,i]}=e,s=this.features,l=this._getQuantizationFunction(this.geometryType,(e=>Math.round((e-n)/t)),(e=>Math.round((i-e)/r)));for(let e=0,t=s.length;e<t;e++)l((0,o.Wg)(s[e].geometry))||(s.splice(e,1),e--,t--);return this.transform=e,this}unquantize(){const{geometryType:e,features:t,transform:r}=this;if(!r)return this;const{translate:[n,i],scale:[s,l]}=r,a=this._getHydrationFunction(e,(e=>e*s+n),(e=>i-e*l));for(const{geometry:e}of t)(0,o.pC)(e)&&a(e);return this.transform=null,this}_quantizePoints(e,t,r){let n,o;const i=[];for(let s=0,l=e.length;s<l;s++){const l=e[s];if(s>0){const e=t(l[0]),s=r(l[1]);e===n&&s===o||(i.push([e-n,s-o]),n=e,o=s)}else n=t(l[0]),o=r(l[1]),i.push([n,o])}return i.length>0?i:null}_getQuantizationFunction(e,t,r){return"point"===e?e=>(e.x=t(e.x),e.y=r(e.y),e):"polyline"===e||"polygon"===e?e=>{const n=(0,c.oU)(e)?e.rings:e.paths,o=[];for(let e=0,i=n.length;e<i;e++){const i=n[e],s=this._quantizePoints(i,t,r);s&&o.push(s)}return o.length>0?((0,c.oU)(e)?e.rings=o:e.paths=o,e):null}:"multipoint"===e?e=>{const n=this._quantizePoints(e.points,t,r);return n.length>0?(e.points=n,e):null}:"extent"===e?e=>e:null}_getHydrationFunction(e,t,r){return"point"===e?e=>{e.x=t(e.x),e.y=r(e.y)}:"polyline"===e||"polygon"===e?e=>{const n=(0,c.oU)(e)?e.rings:e.paths;let o,i;for(let e=0,s=n.length;e<s;e++){const s=n[e];for(let e=0,n=s.length;e<n;e++){const n=s[e];e>0?(o+=n[0],i+=n[1]):(o=n[0],i=n[1]),n[0]=t(o),n[1]=r(i)}}}:"extent"===e?e=>{e.xmin=t(e.xmin),e.ymin=r(e.ymin),e.xmax=t(e.xmax),e.ymax=r(e.ymax)}:"multipoint"===e?e=>{const n=e.points;let o,i;for(let e=0,s=n.length;e<s;e++){const s=n[e];e>0?(o+=s[0],i+=s[1]):(o=s[0],i=s[1]),s[0]=t(o),s[1]=r(i)}}:void 0}};(0,n._)([(0,i.Cb)({type:String,json:{write:!0}})],g.prototype,"displayFieldName",void 0),(0,n._)([(0,i.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,"exceededTransferLimit",void 0),(0,n._)([(0,i.Cb)({type:[m.Z],json:{write:!0}})],g.prototype,"features",void 0),(0,n._)([(0,l.r)("features")],g.prototype,"readFeatures",null),(0,n._)([(0,i.Cb)({type:[h.Z],json:{write:!0}})],g.prototype,"fields",void 0),(0,n._)([(0,i.Cb)({type:["point","multipoint","polyline","polygon","extent","mesh"],json:{read:{reader:d.read}}})],g.prototype,"geometryType",void 0),(0,n._)([(0,p.c)("geometryType")],g.prototype,"writeGeometryType",null),(0,n._)([(0,i.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,"hasM",void 0),(0,n._)([(0,i.Cb)({type:Boolean,json:{write:{overridePolicy:e=>({enabled:e})}}})],g.prototype,"hasZ",void 0),(0,n._)([(0,i.Cb)({types:f.qM,json:{write:!0}})],g.prototype,"queryGeometry",void 0),(0,n._)([(0,l.r)("queryGeometry")],g.prototype,"readQueryGeometry",null),(0,n._)([(0,i.Cb)({type:u.Z,json:{write:!0}})],g.prototype,"spatialReference",void 0),(0,n._)([(0,p.c)("spatialReference")],g.prototype,"writeSpatialReference",null),(0,n._)([(0,i.Cb)({json:{write:!0}})],g.prototype,"transform",void 0),g=(0,n._)([(0,a.j)("esri.tasks.support.FeatureSet")],g),g.prototype.toJSON.isDefaultToJSON=!0,g||(g={});const b=g}}]);